<html>
<head>
	<title>Free Scroll Demos</title>
	<script type="text/javascript" src="../src/free-scroll.js"></script>
	<script type="text/javascript" src="../src/xhr.js"></script>
	<style type="text/css">
		.freeScrollContainers {
			float: left;
			margin-right: 10px;
		}
		#ScrollContainer, #requestData {
			height: 200px;
			width: 300px;
			border:1px solid #000;
			overflow: auto;
		}
	</style>
</head>
<body>
	<div id="ScrollContainer" class="freeScrollContainers">
		div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> 
	</div>
	<div id="requestData" class="freeScrollContainers">
		<p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p>
		<p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p>
		<p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p>
	</div>
	<script type="text/javascript">
	//free scroll library
	
	var fs1 = FS('#ScrollContainer');
	fs1.on('toInfinity', function (el) {
		el.innerHTML += 'div<br/> div<br/> div<br/> div<br/> div<br/> ';
	});

	var groupCount = 1;
	var fs2 = FS({selector:'#requestData', distance: 70, requestDataUrl: '/api/listing' });
	fs2.on('toInfinity', function(el, result) {
		result.success(function(listing){
			el.innerHTML += '<h4>Group: ' + groupCount + '</h4>';
			groupCount++;
			for (var i = 0; i < listing.length; i++) {
				el.innerHTML += '<p>Title: ' + listing[i].title + '<br/>Description: ' + listing[i].description + '</p>';
			};
		});
	});
	</script>
</body>
</html>