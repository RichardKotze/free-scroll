<html>
<head>
	<title>Free Scroll Demos</title>
	<script type="text/javascript" src="../src/free-scroll.js"></script>
	<script type="text/javascript" src="../src/xhr.js"></script>
	<style type="text/css">
		.freeScrollContainers {
			float: left;
			margin-right: 10px;
		}
		#ScrollContainer, #requestData {
			height: 200px;
			width: 300px;
			border:1px solid #000;
			overflow: auto;
		}
	</style>
</head>
<body>
	<div id="ScrollContainer" class="freeScrollContainers">
		div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> div<br/> 
	</div>
	<div id="requestData" class="freeScrollContainers">
		<p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p>
		<p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p>
		<p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p> <p>listing placeholder</p>
	</div>
	<script type="text/javascript">
	//free scroll library
	
	var fs1 = FS('#ScrollContainer');
	fs1.on('toInfinity', function (el) {
		el.innerHTML += 'div<br/> div<br/> div<br/> div<br/> div<br/> ';
	});

	var groupCount = 1;
	var fs2 = FS({
		selector:'#requestData', 
		distance: 70, 
		requestData: {
			urlFormat: '/api/listing?page_number={0}&page_size={1}',
			pageNumber: 1,
			pageSize: 10
		} 
	});

	fs2.on('toInfinity', function(el, result) {
		result.success(function(asortment){
			el.innerHTML += '<h4>Group: ' + groupCount + '</h4>';
			groupCount++;
			for (var i = 0; i < asortment.yourArrayName.length; i++) {
				el.innerHTML += '<p>Title: ' + asortment.yourArrayName[i].title + '<br/>Description: ' + asortment.yourArrayName[i].description + '</p>';
			};
		});
		result.error(function(error){
			console.log(error);
		});

	});
	</script>
</body>
</html>